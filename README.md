# Описание
Данный проект является кластером из 3 смарт-контрактов Solidity для блокчейна Ethereum: DAO (decentralized autonomous organization), ERC20 (контракт токена стандарта ERC20) и Staking (аналог банковского вклада).

Контракт DAO устроен таким образом, что для каждой ДАО существует только один контракт токена и только один контракт стейкинга, чтобы исключить их подмену. Эти контракты задаются единожды при их развертывании в сети председателем ДАО. Председателем ДАО является тот, кто развернул ее контракт в сети. 

Управление контрактами, а именно изменение времени, отведенное на голосование, эмиссия токенов, изменение периода начисления вознаграждения и его процента, осуществляется ДАО посредством голосований, которые объявляет председатель. При объявлении голосования происходят проверки на то, что указанный адрес является адресом DAO, ERC20 или Staking. Голосование проходит с помощью токенов ERC20, которые будут заморожены до его окончания. Держатели токенов выбирают количество токенов для голосования, чем больше токенов, тем больший вес имеет каждый голос, при этом в каждом голосовании нельзя голосовать дважды. 

После окончания периода, отведенного на голосование, председатель вызывает функцию окончания голосования, где проходит проверка на успешность и размораживаются токены. Голосование считается успешным, если в голосовании участвовало большинство токенов и результат положительный. В этом случае вызывается соответствующая функция на указанном адресе.

# Важно
Перед вызовом функции поплнения депозита на контракте DAO, необходимо вызвать функцию approve() на котракте ERC20 с передачей в аргументы адрес DAO и количество токенов для пополнения.

# Установка
Скачать репозиторий со страницы https://github.com/Krahjotdaan/ERC20ExtendedDAO 
- На рабочем ПК должен быть установлен интерпретатор Python не ниже версии 3.10
- Создать виртуальное окружение
- В командной строке ввести: pip install -r requirements.txt
- Перейти в файл keys.py, вставить в поля dao, erc20 и staking адреса соответствующих ранее развернутых контрактов
- В поля DAO_ABI, ERC20_ABI и STAKING_ABI вставить соответствующие ABI. Их можно найти на сайте https://sepolia.etherscan.io/ на страницах контрактов.
- В поле WALLET_ADDRESS вставить адрес вашего кошелька
- В поле PRIVATE_KEY вставить приватный ключ кошелька. Этот ключ используется только для подписи отправляемых из приложения транзакций. Доступ к нему посредством приложения не может получить никто. Как узнать приватный ключ: https://support.metamask.io/ru/managing-my-wallet/secret-recovery-phrase-and-private-keys/how-to-export-an-accounts-private-key/
- Поле provider используется для обращения к блокчейну. Для его получения перейдите на https://app.infura.io/ и войдите в аккаунт. Затем создайте новый ключ API (кнопка CREATE NEW API KEY). Вернитесь на главную страницу и перейдите во вкладку созданного ключа, во вкладке ALL ENDPOINTS выберите Ethereum Sepolia, перейдите во вкладку ACTIVE ENDPOINTS, скопируйте строку с ключом, начинающуюся на https:// и вставьте ее в поле provider.
- Приложение готово к запуску
